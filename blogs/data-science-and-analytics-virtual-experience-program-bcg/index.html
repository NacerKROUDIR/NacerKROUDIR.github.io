




<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"
><head>
  <meta charset="utf-8" />
  
    <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="rgb(255,255,255)" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Data Science & Analytics Virtual Experience Program - BCG &middot; Nacer KROUDIR</title>
    <meta name="title" content="Data Science & Analytics Virtual Experience Program - BCG &middot; Nacer KROUDIR" />
  
  <meta name="description" content="A Virtual Internship Program delivered by Boston Consulting Group on Forage Platform" />
  
  
  
  <link rel="canonical" href="/blogs/data-science-and-analytics-virtual-experience-program-bcg/" />
  
  
  
  
  
  
  
  
  
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.17fc506b1c26b1bbc9a782ffffc510d9ecbfef39adb801fd6c673c614f713ffe.css"
    integrity="sha256-F/xQaxwmsbvJp4L//8UQ2ey/7zmtuAH9bGc8YU9xP/4="
  />
  
  
  <script type="text/javascript" src="/js/appearance.min.022d0ebc3b46a335eb1c7ef79b7f2de143d7cd5156d433638592ef1ce5f8554e.js" integrity="sha256-Ai0OvDtGozXrHH73m38t4UPXzVFW1DNjhZLvHOX4VU4="></script>
  
    
    
    
  
  
  
  
    
    <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.84ea74257c78d510b25594590b1aca93c37a6877605bb4b7493b685aac753491.js" integrity="sha256-hOp0JXx41RCyVZRZCxrKk8N6aHdgW7S3STtoWqx1NJE=" data-copy="Copy" data-copied="Copied"></script>
  
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:title" content="Data Science &amp; Analytics Virtual Experience Program - BCG" />
<meta property="og:description" content="A Virtual Internship Program delivered by Boston Consulting Group on Forage Platform" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blogs/data-science-and-analytics-virtual-experience-program-bcg/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2020-08-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-15T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Data Science &amp; Analytics Virtual Experience Program - BCG"/>
<meta name="twitter:description" content="A Virtual Internship Program delivered by Boston Consulting Group on Forage Platform"/>

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Blogs",
    "name": "Data Science \u0026 Analytics Virtual Experience Program - BCG",
    "headline": "Data Science \u0026 Analytics Virtual Experience Program - BCG",
    "description": "A Virtual Internship Program delivered by Boston Consulting Group on Forage Platform",
    "abstract": "PowerCo supplies gas and electricity to corporate, SME, and residential customers. The changing energy market in Europe has led many SMEs to switch away from PowerCo, making customer retention challenging.",
    "inLanguage": "en",
    "url" : "\/blogs\/data-science-and-analytics-virtual-experience-program-bcg\/",
    "author" : {
      "@type": "Person",
      "name": "Hello, I\u0027m Nacer ðŸ‘‹"
    },
    "copyrightYear": "2020",
    "dateCreated": "2020-08-15T00:00:00\u002b00:00",
    "datePublished": "2020-08-15T00:00:00\u002b00:00",
    
    "dateModified": "2020-08-15T00:00:00\u002b00:00",
    
    "keywords": ["blogs"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1760"
  }]
  </script>


  
  <meta name="author" content="Hello, I&#39;m Nacer ðŸ‘‹" />
  
    
      <link href="mailto:nacerkroudir@gmail.com" rel="me" />
    
      <link href="https://github.com/NacerKROUDIR" rel="me" />
    
      <link href="https://www.linkedin.com/in/nacerkroudir/" rel="me" />
    
      <link href="https://medium.com/@nacerkroudir" rel="me" />
    
      <link href="#ZgotmplZ" rel="me" />
    
  
  
  






  
  
  
  


  
  
</head>
<body
    class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"
  >
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="font-bold pe-2 text-primary-600 dark:text-primary-400">&darr;</span
        >Skip to main content</a
      >
    </div>
    
    
      <header class="py-6 font-semibold text-neutral-900 dark:text-neutral print:hidden sm:py-10">
  <nav class="flex items-start justify-between sm:items-center">
    
    <div class="flex flex-row items-center">
      
  <a
    class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"
    rel="me"
    href="/"
    >Nacer KROUDIR</a
  >

      

    </div>
    
    
      <ul class="flex list-none flex-col ltr:text-right rtl:text-left sm:flex-row">
        
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/resume/"
                  title="Hi, I&#39;m Nacer KROUDIR ðŸ‘‹"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Resume</span
                    >
                  </a
                >
              
            </li>
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="/blogs/"
                  title="Blogs"
                  
                  ><span
                      class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                      >Blogs</span
                    >
                  </a
                >
              
            </li>
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="https://github.com/NacerKROUDIR"
                  title=""
                  target="_blank"
                  >
                    <span
                      class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                    ><span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a
                >
              
            </li>
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="https://www.linkedin.com/in/nacerkroudir/"
                  title=""
                  target="_blank"
                  >
                    <span
                      class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                    ><span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></span></a
                >
              
            </li>
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                <a
                  href="https://medium.com/@nacerkroudir"
                  title=""
                  target="_blank"
                  >
                    <span
                      class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                    ><span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M180.5,74.262C80.813,74.262,0,155.633,0,256S80.819,437.738,180.5,437.738,361,356.373,361,256,280.191,74.262,180.5,74.262Zm288.25,10.646c-49.845,0-90.245,76.619-90.245,171.095s40.406,171.1,90.251,171.1,90.251-76.619,90.251-171.1H559C559,161.5,518.6,84.908,468.752,84.908Zm139.506,17.821c-17.526,0-31.735,68.628-31.735,153.274s14.2,153.274,31.735,153.274S640,340.631,640,256C640,171.351,625.785,102.729,608.258,102.729Z"/></svg>
</span></span></a
                >
              
            </li>
          
            <li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5">
              
                
                
                  <button
                    id="search-button-1"
                    title="Search (/)"
                  >
                    
                      <span
                        class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"
                      ><span class="relative inline-block align-text-bottom px-1 icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span
                        class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"
                        ></span
                      >
                    
                  </button>
                
              
            </li>
          
          
        
      </ul>
    
  </nav>
</header>

    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  <article>
    <header class="max-w-prose">
      
        <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/"
      >Nacer KROUDIR</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline ">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/blogs/"
      >Blogs</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/blogs/data-science-and-analytics-virtual-experience-program-bcg/"
      >Data Science &amp; Analytics Virtual Experience Program - BCG</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Data Science & Analytics Virtual Experience Program - BCG
      </h1>
      <div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  

  

  

  
    
  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <span title="Reading time">9 mins</span>
    

    
    
  </div>

  
  


      </div>
      
    </header>
    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
        <div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8">
          <div class="toc pe-5 print:hidden lg:sticky lg:top-10">
            <details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5">
  <summary
    class="-ms-5 block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden"
  >
    Table of Contents
  </summary>
  <div class="-ms-5 border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#objectives">Objectives</a></li>
    <li><a href="#understanding-the-problem">Understanding the Problem</a></li>
    <li><a href="#data-exploration">Data Exploration</a></li>
    <li><a href="#hypothesis-testing">Hypothesis Testing:</a></li>
    <li><a href="#feature-engineering">Feature Engineering</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#predictive-model-development">Predictive Model Development</a></li>
    <li><a href="#recommendations">Recommendations</a></li>
    <li><a href="#executive-summary">Executive Summary</a></li>
  </ul>
</nav>
  </div>
</details>

          </div>
        </div>
      
      <div class="min-w-0 min-h-0 max-w-prose grow">
        <p>PowerCo is a big company that provides gas and electricity to businesses, medium-sized enterprises, and homes. The energy market in Europe has changed, giving customers more options. This has caused many small and medium-sized businesses to switch to other energy providers, which is a big problem for PowerCo. To figure out why this is happening, they have teamed up with BCG for help.</p>
<h2 id="objectives" class="relative group">Objectives <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#objectives" aria-label="Anchor">#</a></span></h2>
<ul>
<li>Gain a comprehensive understanding of the problem at hand and request necessary data from PowerCo to facilitate problem-solving.</li>
<li>Conduct a thorough data exploration and examine the hypothesis that price sensitivity is somewhat associated with customer churn.</li>
<li>Perform feature engineering and develop a predictive model capable of identifying customers with a high likelihood of churn.</li>
<li>Prepare an executive summary summarizing the key findings and recommendations.</li>
</ul>
<h2 id="understanding-the-problem" class="relative group">Understanding the Problem <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#understanding-the-problem" aria-label="Anchor">#</a></span></h2>
<p>In business and marketing, churn refers to the rate at which customers or subscribers discontinue their relationship with a company or stop using its products or services. Therefore, the churn problem here refers to the challenge faced by powerCo in retaining its customers and reducing the rate of customer churn.</p>
<p>Understanding customer attrition (churn) is crucial for PowerCo as it allows them to identify patterns, trends, or factors that contribute to customer disengagement. The data needed to determine these patterns is:</p>
<ul>
<li><strong>Billing data:</strong> Billing data can be used to determine how much customers are paying for their energy usage and how frequently they receive bills. This information can help to identify customers who are likely to be more price sensitive.</li>
<li><strong>Usage patterns:</strong> Information on customers&rsquo; energy usage patterns, such as the amount of energy they consume, the time of day they consume it, and their peak energy usage, may provide insights into their level of price sensitivity.</li>
<li><strong>Interaction history:</strong> like contract start date or whether there have been any concerns or complaints expressed by the customers. Any feature that would represent the customerâ€™s satisfaction level.</li>
<li><strong>Churned:</strong> whether the customer enterprise churned or not.</li>
</ul>
<p>Another useful data could be competitorâ€™s information and their pricing so we can compare the costs relative to the competition in the field.</p>
<h2 id="data-exploration" class="relative group">Data Exploration <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#data-exploration" aria-label="Anchor">#</a></span></h2>
<p>After assessing the quality of the data and cleaning it. We start our data exploration by visualizing the distribution of customers churn status.</p>
<p>




  
  
    
  
  
    <figure>
      <img
        class="mx-auto my-0 rounded-md"
        
          
            src="/blogs/data-science-and-analytics-virtual-experience-program-bcg/churn.png"
          
        
        alt="churn distribution"
        
          loading="lazy"
        
      />
      <figcaption class="text-center">Custumor Churn Distribution</figcaption>
    </figure>
  

</p>
<p>The majority of SME clients who churned have been with the company between <em>3</em> to <em>6</em> years. A concerning number of <em>28</em> SME have churned after being clients for PowerCo for more than <em>10</em> years as can be seen in the next barplot:</p>
<p>




  
  
    
  
  
    <figure>
      <img
        class="mx-auto my-0 rounded-md"
        
          
            srcset="/blogs/data-science-and-analytics-virtual-experience-program-bcg/Tenure_hu0e8a4fd6db91f9f54ad8ba6d8bd0557c_90654_330x0_resize_box_3.png 330w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Tenure_hu0e8a4fd6db91f9f54ad8ba6d8bd0557c_90654_660x0_resize_box_3.png 660w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Tenure_hu0e8a4fd6db91f9f54ad8ba6d8bd0557c_90654_1024x0_resize_box_3.png 1024w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Tenure_hu0e8a4fd6db91f9f54ad8ba6d8bd0557c_90654_1320x0_resize_box_3.png 2x"
            src="/blogs/data-science-and-analytics-virtual-experience-program-bcg/Tenure_hu0e8a4fd6db91f9f54ad8ba6d8bd0557c_90654_660x0_resize_box_3.png"
          
        
        alt="tenure distribution"
        
          loading="lazy"
        
      />
      <figcaption class="text-center">Custumor Tenure Distribution</figcaption>
    </figure>
  

</p>
<p>The next figure shows that churned SME pay more than those who did not churn. Which suggests that the pricing strategy is the reason of churn.</p>
<p>




  
  
    
  
  
    <figure>
      <img
        class="mx-auto my-0 rounded-md"
        
          
            srcset="/blogs/data-science-and-analytics-virtual-experience-program-bcg/Price_hu40859866e6e0a09d48e1c9824fd8eed7_126151_330x0_resize_box_3.png 330w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Price_hu40859866e6e0a09d48e1c9824fd8eed7_126151_660x0_resize_box_3.png 660w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Price_hu40859866e6e0a09d48e1c9824fd8eed7_126151_1024x0_resize_box_3.png 1024w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/Price_hu40859866e6e0a09d48e1c9824fd8eed7_126151_1320x0_resize_box_3.png 2x"
            src="/blogs/data-science-and-analytics-virtual-experience-program-bcg/Price_hu40859866e6e0a09d48e1c9824fd8eed7_126151_660x0_resize_box_3.png"
          
        
        alt="Price distribution"
        
          loading="lazy"
        
      />
      <figcaption class="text-center">Power Price Comparison: Churned Customers vs. Non-Churned Customers</figcaption>
    </figure>
  

</p>
<h2 id="hypothesis-testing" class="relative group">Hypothesis Testing: <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#hypothesis-testing" aria-label="Anchor">#</a></span></h2>
<p>We will investigate further by hypothesis testing using two methods:</p>
<ul>
<li>Bootstrap.</li>
<li>T-test.</li>
</ul>
<p>We start by stating the null hypothesis and alternative hypothesis:</p>
<p><strong>Null hypothesis:</strong> there is no significant difference between the mean of price of the two groups (churn/retention).</p>
<p><strong>Alternative hypothesis:</strong> there is a significant difference between the mean of price of the two groups (churn/retention).</p>
<p>The significance level is assumed to be 5%.</p>
<blockquote>
<p>Statistical significance is a term used in statistical hypothesis testing to describe the likelihood that an observed effect or difference between groups is real and not simply due to chance.</p>
</blockquote>
<div class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900">
  <span class="pe-3 text-primary-400">
    <span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>
</span>
  </span>
  <span class="dark:text-neutral-300">If you would like to get technical I highly recommend you checkout the full implementation in <a
  href="https://github.com/NacerKROUDIR/Data_Science_and_Analytics_Virtual_Experience_Program-BCG.git"
  
  target="_blank" rel="noreferrer noopener"
>this github repository</a></span>
</div>

<p>The p-values for both methods (Bootstrap/T-test) for the different price variables are less than the significance level leading to the rejection of the null hypothesis and suggesting that there is a difference between the mean of price of the two groups (churn/retention).</p>
<h2 id="feature-engineering" class="relative group">Feature Engineering <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#feature-engineering" aria-label="Anchor">#</a></span></h2>
<h4 id="sum-of-price-for-energy-and-power-along-with-the-difference-with-respect-to-the-period" class="relative group">Sum of price for energy and power along with the difference with respect to the period <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#sum-of-price-for-energy-and-power-along-with-the-difference-with-respect-to-the-period" aria-label="Anchor">#</a></span></h4>
<p>The changes in the price from one period to another is a good indicator for churn. The expected thing to notice is that SME who churned will have a positive difference meaning that the prices for energy and power are getting high. The inverse is expected for SME who did not churn.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># price for period 1</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p1&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_off_peak_var&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_off_peak_fix&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># price for period 2</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p2&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_peak_var&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_peak_fix&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># price for period 3</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p3&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_mid_peak_var&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_mid_peak_fix&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># difference between the price for period 2 and period 1</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;pp12&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p2&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p1&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># difference between the price for period 3 and period 2</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;pp23&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p3&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p2&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># difference between the price for period 3 and period 1</span>
</span></span><span class="line"><span class="cl"><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;pp13&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p3&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">price_df</span><span class="p">[</span><span class="s1">&#39;price_p1&#39;</span><span class="p">]</span>
</span></span></code></pre></div><h4 id="difference-between-1st-period-prices-in-december-and-preceding-january" class="relative group">Difference between 1st period prices in December and preceding January <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#difference-between-1st-period-prices-in-december-and-preceding-january" aria-label="Anchor">#</a></span></h4>
<p>This the prices progression in a different and more detailed way.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Group off-peak prices by companies and month</span>
</span></span><span class="line"><span class="cl"><span class="n">monthly_price_by_id</span> <span class="o">=</span> <span class="n">price_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;price_date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s1">&#39;price_off_peak_var&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;price_off_peak_fix&#39;</span><span class="p">:</span> <span class="s1">&#39;mean&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Get january and december prices</span>
</span></span><span class="line"><span class="cl"><span class="n">jan_prices</span> <span class="o">=</span> <span class="n">monthly_price_by_id</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">dec_prices</span> <span class="o">=</span> <span class="n">monthly_price_by_id</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Calculate the difference</span>
</span></span><span class="line"><span class="cl"><span class="n">diff_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">dec_prices</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;price_off_peak_var&#39;</span><span class="p">:</span> <span class="s1">&#39;dec_1&#39;</span><span class="p">,</span> <span class="s1">&#39;price_off_peak_fix&#39;</span><span class="p">:</span> <span class="s1">&#39;dec_2&#39;</span><span class="p">}),</span> <span class="n">jan_prices</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;price_off_peak_var&#39;</span><span class="p">:</span> <span class="s1">&#39;jan_1&#39;</span><span class="p">,</span> <span class="s1">&#39;price_off_peak_fix&#39;</span><span class="p">:</span> <span class="s1">&#39;jan_2&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;price_date&#39;</span><span class="p">),</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;diff_dec_january_energy_p1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;dec_1&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;jan_1&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;diff_dec_january_power_p1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;dec_2&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">diff_1</span><span class="p">[</span><span class="s1">&#39;jan_2&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">diff_1</span> <span class="o">=</span> <span class="n">diff_1</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;diff_dec_january_energy_p1&#39;</span><span class="p">,</span><span class="s1">&#39;diff_dec_january_power_p1&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">diff_1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></div><h4 id="difference-between-2nd-period3rd-period-prices-in-december-and-preceding-january" class="relative group">Difference between 2nd period/3rd period prices in December and preceding January <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#difference-between-2nd-period3rd-period-prices-in-december-and-preceding-january" aria-label="Anchor">#</a></span></h4>
<blockquote>
<p>These are calculated in the same way as the feature for the first period.</p>
</blockquote>
<h4 id="tenure" class="relative group">Tenure <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#tenure" aria-label="Anchor">#</a></span></h4>
<p>Tenure is a very important factor for predicting churn. it is the duration of business between the client and PowerCo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;tenure&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date_end&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;date_activ&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">365</span>
</span></span></code></pre></div><h4 id="the-deviation-of-last-month-consumption-relative-to-the-mean-consumption-for-one-month" class="relative group">The deviation of last month consumption relative to the mean consumption for one month <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#the-deviation-of-last-month-consumption-relative-to-the-mean-consumption-for-one-month" aria-label="Anchor">#</a></span></h4>
<p>This feature aims at detecting any change of pattern in the consumption of the client for the last month.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_dev&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_12m&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span><span class="o">-</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_last_month&#39;</span><span class="p">]</span>
</span></span></code></pre></div><h4 id="ratio-of-consumption-for-the-next-year-compared-to-the-current-year" class="relative group">Ratio of consumption for the next year compared to the current year <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#ratio-of-consumption-for-the-next-year-compared-to-the-current-year" aria-label="Anchor">#</a></span></h4>
<p>This feature shows whether the client is expected to have a larger or lower demand for energy and power in the future compared to his current consumption.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_pattern&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;forecast_cons_12m&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_12m&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">handleInf</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">x</span><span class="o">==</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;-inf&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">x</span><span class="o">==</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">x</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># handle infinity values</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">cons_pattern</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">cons_pattern</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">handleInf</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># handle a few missing values due to a division by 0</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cons_pattern&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></div><p>Lastly, date features will dropped as they are summarized in a more representative feature that is <code>tenure</code>. And we drop any duplicates in the dataset to avoid having the same observations in the training and test sets.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">price_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;price_date&#39;</span><span class="p">,</span> <span class="s1">&#39;price_off_peak_var&#39;</span><span class="p">,</span> <span class="s1">&#39;price_off_peak_fix&#39;</span><span class="p">,</span> <span class="s1">&#39;price_peak_var&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                <span class="s1">&#39;price_peak_fix&#39;</span><span class="p">,</span> <span class="s1">&#39;price_mid_peak_var&#39;</span><span class="p">,</span> <span class="s1">&#39;price_mid_peak_fix&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">                 <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;date_activ&#39;</span><span class="p">,</span> <span class="s1">&#39;date_end&#39;</span><span class="p">,</span> <span class="s1">&#39;date_modif_prod&#39;</span><span class="p">,</span> <span class="s1">&#39;date_renewal&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Drop duplicates</span>
</span></span><span class="line"><span class="cl"><span class="n">train</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="predictive-model-development" class="relative group">Predictive Model Development <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#predictive-model-development" aria-label="Anchor">#</a></span></h2>
<p>First, we seperate our target variable from the features that will be used to train the model.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">train</span><span class="p">[</span><span class="s1">&#39;churn&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">X</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;churn&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p>Then, we make some preprocessing to the data before giving it to the model.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Convert has_gas column datatype to int</span>
</span></span><span class="line"><span class="cl"><span class="n">X</span><span class="p">[</span><span class="s1">&#39;has_gas&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="s1">&#39;has_gas&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Encode channel_sales and origin features using a OneHotEncoder</span>
</span></span><span class="line"><span class="cl"><span class="n">ct</span> <span class="o">=</span> <span class="n">ColumnTransformer</span><span class="p">(</span><span class="n">transformers</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;encoder&#39;</span><span class="p">,</span> <span class="n">OneHotEncoder</span><span class="p">(),</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">24</span><span class="p">])],</span> <span class="n">remainder</span><span class="o">=</span><span class="s1">&#39;passthrough&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ct</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>
</span></span></code></pre></div><p>We split the data into training and test sets of sizes 75% and 25% respectively. Making sure that the target variable is similarly distributed in both sets.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
</span></span></code></pre></div><p>The following function will be used to evaluate the model performance. The evaluation metrics chosen are:</p>
<ul>
<li><strong>accuracy:</strong> however it is not representative for the model performance as predicting all 0&rsquo;s will give an accuracy above 90%. This is why the next evaluation metrics are useed.</li>
<li><strong>Precision</strong>: it indicates how many of the predicted as <code>churned</code> are actually true.</li>
<li><strong>recall</strong>: it explains how many of the actual positive cases we were able to detect with our model.</li>
<li><strong>f1 score</strong>: It gives a combined idea about Precision and Recall metrics. It is maximum when Precision is equal to Recall.</li>
<li><strong>ROC AUC</strong>: The Receiver Operator Characteristic (ROC) is a probability curve that plots the TPR(True Positive Rate) against the FPR(False Positive Rate) at various threshold values and separates the â€˜signalâ€™ from the â€˜noiseâ€™. The Area Under the Curve (AUC) is the measure of the ability of a classifier to distinguish between classes.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="n">model_</span><span class="p">,</span> <span class="n">X_test_</span><span class="p">,</span> <span class="n">y_test_</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model_</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&#34;Accuracy&#34;</span>  <span class="p">:</span> <span class="p">[</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test_</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;Precision&#34;</span> <span class="p">:</span> <span class="p">[</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_test_</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;Recall&#34;</span>    <span class="p">:</span> <span class="p">[</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_test_</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;f1&#34;</span>        <span class="p">:</span> <span class="p">[</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_test_</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)],</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;ROC AUC&#34;</span>   <span class="p">:</span> <span class="p">[</span><span class="n">roc_auc_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)]})</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">results</span>
</span></span></code></pre></div><p>The model used is <code>XGBClassifier</code>: it is an ensemble learning method that combines the predictions of multiple weak models to produce a strong prediction. The weak models in XGBoost are decision trees, which are trained using gradient boosting. This means that at each iteration, the algorithm fits a decision tree to the residuals of the previous iteration.</p>
<p>Once the decision trees have been trained, XGBoost makes predictions by combining the predictions of all the trees using a weighted average. The weights for each tree are learned during training using the same objective function. This allows the algorithm to automatically learn which trees are more important and should be given more weight in the final prediction.</p>
<p>We used <code>GridSearchCV</code> for hyper parameter tuning.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">:[</span><span class="mi">256</span><span class="p">,</span><span class="mi">512</span><span class="p">,</span><span class="mi">1024</span><span class="p">],</span> <span class="s1">&#39;max_depth&#39;</span><span class="p">:[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;learning_rate&#39;</span><span class="p">:[</span><span class="mf">0.03</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl"><span class="n">model</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">44</span><span class="p">,</span> <span class="n">use_label_encoder</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">eval_metric</span><span class="o">=</span><span class="n">f1_score</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">gs</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">gs</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</span></span></code></pre></div><p>The results shows that the best parameters for our model are summarized in the next table:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>learning_rate</td>
<td>0.1</td>
</tr>
<tr>
<td>max_depth</td>
<td>12</td>
</tr>
<tr>
<td>n_estimators</td>
<td>1024</td>
</tr>
</tbody>
</table>
<p>The evaluation of the model gives the following very satisfying results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">evaluate</span><span class="p">(</span><span class="n">gs</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Metric</th>
<th>Score</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accuracy</td>
<td>0.997446</td>
</tr>
<tr>
<td>Precision</td>
<td>1.0</td>
</tr>
<tr>
<td>Recall</td>
<td>0.97397</td>
</tr>
<tr>
<td>f1 Score</td>
<td>0.986813</td>
</tr>
<tr>
<td>ROC AUC</td>
<td>0.986985</td>
</tr>
</tbody>
</table>
<h2 id="recommendations" class="relative group">Recommendations <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#recommendations" aria-label="Anchor">#</a></span></h2>
<p>The results obtained on the test set demonstrate outstanding performance in predicting customer churn. The precision metric indicates that all the clients identified as likely to churn did indeed churn, achieving a perfect 100% precision score. This high precision signifies the reliability of the predictive model in accurately identifying potential churners.</p>
<p>With such a reliable model in place, PowerCo can confidently implement targeted retention strategies for small and medium-sized enterprises (SMEs) who are predicted to be at high risk of churn. Offering a substantial 20% reduction in their energy costs can serve as a compelling incentive for these SMEs to remain loyal to PowerCo.</p>
<p>Implementing this personalized approach not only helps retain SME customers but also fosters a sense of loyalty and satisfaction among them. Additionally, it positions PowerCo as a proactive and customer-centric energy provider, capable of anticipating and addressing customer needs effectively.</p>
<p>It is important to note that while the model&rsquo;s precision is exceptional, further considerations should be taken into account. Continuously monitoring and refining the predictive model will ensure its accuracy and effectiveness in identifying potential churners. Furthermore, evaluating the impact of the discount offer on customer retention and overall profitability will provide valuable insights for future decision-making and resource allocation.</p>
<p>Overall, the combination of an accurate predictive model and a targeted discount strategy presents an opportunity for PowerCo to reduce churn rates, enhance customer loyalty, and maintain a competitive edge in the energy market.</p>
<h2 id="executive-summary" class="relative group">Executive Summary <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#executive-summary" aria-label="Anchor">#</a></span></h2>
<p>




  
  
    
  
  
    <figure>
      <img
        class="mx-auto my-0 rounded-md"
        
          
            srcset="/blogs/data-science-and-analytics-virtual-experience-program-bcg/executive_summary_hu092101773a6fe2d377157ccf7f45a9c8_658202_330x0_resize_box_3.png 330w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/executive_summary_hu092101773a6fe2d377157ccf7f45a9c8_658202_660x0_resize_box_3.png 660w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/executive_summary_hu092101773a6fe2d377157ccf7f45a9c8_658202_1024x0_resize_box_3.png 1024w,/blogs/data-science-and-analytics-virtual-experience-program-bcg/executive_summary_hu092101773a6fe2d377157ccf7f45a9c8_658202_1320x0_resize_box_3.png 2x"
            src="/blogs/data-science-and-analytics-virtual-experience-program-bcg/executive_summary_hu092101773a6fe2d377157ccf7f45a9c8_658202_660x0_resize_box_3.png"
          
        
        alt="executive summary"
        
          loading="lazy"
        
      />
      <figcaption class="text-center">Executive Summary</figcaption>
    </figure>
  

</p>

      </div>
    </section>
    <footer class="pt-8 max-w-prose print:hidden">
      

      

      
  


      
    </footer>
  </article>

        
      </main><footer class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">
    <div>
      
      
        <p class="text-sm text-neutral-500 dark:text-neutral-400">
            Â© 2023 Nacer Kroudir
        </p>
      
      
      
        <p class="text-xs text-neutral-500 dark:text-neutral-400">
          
          
          Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
            href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://git.io/hugo-congo" target="_blank" rel="noopener noreferrer">Congo</a>
        </p>
      
    </div>
    
    
      <div
        class=" cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
      >
        <button id="appearance-switcher-0" type="button" aria-label="appearance switcher">
          <div
            class="flex h-12 w-12 items-center justify-center dark:hidden"
            title="Switch to dark appearance"
          >
            <span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>
</span>
          </div>
          <div
            class="hidden h-12 w-12 items-center justify-center dark:flex"
            title="Switch to light appearance"
          >
            <span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>
</span>
          </div>
        </button>
      </div>
    
  </div>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url=""
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          <span class="relative inline-block align-text-bottom px-1 icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span>
        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        <span class="relative inline-block align-text-bottom px-1 icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>
</span>
      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
</html>
